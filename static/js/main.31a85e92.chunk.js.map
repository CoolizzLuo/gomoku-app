{"version":3,"sources":["components/GameBoard.js","components/GameInfo.js","components/App.js","calculateWinner.js","index.js"],"names":["BoardWrapper","styled","div","SquareWrapper","props","chess","mark","isMark","row","col","includes","GameBoard","squares","onClick","map","row_square","col_square","className","Button","button","stepNumber","move","GameInfo","status","history","jumpTo","moves","useMemo","step","desc","App","useState","Array","fill","setHistory","blackIsNext","setBlackIsNext","setStepNumber","currentSquares","winner","i","j","calculateWinner","handleClick","useCallback","newHistory","slice","length","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.31a85e92.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\n\r\nconst BoardWrapper = styled.div`\r\n  box-sizing: border-box;\r\n  border: 1px solid #666;\r\n  border-radius: 2px;\r\n  width: 38rem;\r\n  height: 38rem;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  background: #BB9966;\r\n  box-shadow: 6px 6px 10px rgba(51,51,51,0.6);\r\n  position: relative;\r\n\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    border: calc(1rem - .4px) solid #BB9966;\r\n    pointer-events: none;\r\n  }\r\n\r\n`\r\n\r\nconst SquareWrapper = styled.div`\r\n  box-sizing: border-box;\r\n  /* border: 1px solid #aaa; */\r\n  border-radius: 2px;\r\n  width: calc(100%/19);\r\n  height: calc(100%/19);\r\n  flex-shrink: 0;\r\n  flex-grow: 0;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  position: relative;\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 50%;\r\n    width: 1px;\r\n    background: #111;\r\n    transform: translateX(-50%);\r\n  }\r\n\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 50%;\r\n    height: 1px;\r\n    background: #111;\r\n    transform: translateY(-50%);\r\n  }\r\n\r\n  i.chess {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    border-radius: 50%;\r\n    width: 1.4rem;\r\n    height: 1.4rem;\r\n    z-index: 1;\r\n\r\n    ${props => props.chess === 1 && `\r\n      // border: 1px solid #ccc;\r\n      background: linear-gradient(315deg, #dadada, #fff);\r\n      box-shadow: inset 16px 14px 10px 1px #000, -3px -3px 3px -2px #353232;\r\n      opacity: 1;\r\n    `}\r\n\r\n    ${props => props.chess === 2 && `\r\n      // border: 1px solid #666;\r\n      background: #ddd;\r\n      box-shadow: inset 16px 14px 10px 1px #fff, -3px -3px 3px -2px #666;\r\n      opacity: 1;\r\n    `}\r\n\r\n    &:active {\r\n      transform: translate(-60%, -60%);\r\n    }\r\n\r\n    &::after {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      border-radius: 50%;\r\n      ${props => (props.mark && !props.chess) && `\r\n        content: '';\r\n        width: .5rem;\r\n        height: .5rem;\r\n        background: #111;\r\n      `}\r\n    }\r\n  }\r\n`\r\n\r\nconst isMark = (row, col) => [4, 10, 16].includes(row + 1) && [4, 10, 16].includes(col + 1)\r\n\r\nconst GameBoard = ({squares, onClick}) => {\r\n\r\n  return (\r\n    <BoardWrapper>\r\n      { \r\n        squares.map((row_square, row) => (\r\n          row_square.map((col_square, col) => (\r\n            <SquareWrapper \r\n              key={`${row}-${col}`} \r\n              chess={col_square}\r\n              mark={isMark(row, col)}\r\n              onClick={() => onClick(row, col)}\r\n            >\r\n              <i className='chess'></i>\r\n            </SquareWrapper>\r\n          ))\r\n        ))\r\n      }\r\n    </BoardWrapper>\r\n  );\r\n}\r\n\r\nexport default GameBoard;","import React, { useMemo } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Button = styled.button`\r\n  font-size: .7rem;\r\n  padding: .3rem .4rem;\r\n  margin: .4rem .2rem 0;\r\n  border: none;\r\n  outline: none;\r\n  border-radius: 4px;\r\n  background: #ccc;\r\n  box-shadow: .1rem .1rem .1rem #999;\r\n  transition: .2s;\r\n  cursor: pointer;\r\n  user-select: none;\r\n\r\n  &:active {\r\n    transform: translateY(.2rem);\r\n    box-shadow: none;\r\n  }\r\n\r\n  /* ${props => props.stepNumber===props.move && `\r\n    background: #666;\r\n    color: #ccc;\r\n  `} */\r\n\r\n\r\n  &:hover {\r\n    background: #666;\r\n    color: #ccc;\r\n  }\r\n`\r\n\r\nconst GameInfo = ({status, stepNumber, history, jumpTo}) => {\r\n  const moves = useMemo(() => (history.map((step, move) => {\r\n    const desc = move ? ('Go to move #' + move) : ('Go to game start')\r\n\r\n    return (\r\n      <li key={`#${move}`}>\r\n        <Button onClick={() => jumpTo(move)}>{desc}</Button>\r\n      </li>\r\n    )\r\n  })), [history, jumpTo])\r\n\r\n  return (\r\n    <>\r\n      <div>{status}</div>\r\n      <div>current step: {stepNumber}</div>\r\n      <ol>{moves}</ol>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default GameInfo","import React, { useState, useCallback, useMemo } from 'react'\r\nimport './App.css'\r\nimport GameBoard from './GameBoard'\r\nimport GameInfo from './GameInfo'\r\nimport calculateWinner from '../calculateWinner'\r\n\r\nconst App = () => {\r\n  const [history, setHistory] = useState(() => [{ squares: Array(19).fill().map(() => Array(19).fill(0)) }])\r\n  const [blackIsNext, setBlackIsNext] = useState(true)\r\n  const [stepNumber, setStepNumber] = useState(0)\r\n\r\n  const currentSquares = useMemo(() => {\r\n    return history[stepNumber].squares\r\n  }, [history, stepNumber])\r\n\r\n  const winner = useMemo(() => {\r\n    return calculateWinner(currentSquares)\r\n  }, [currentSquares])\r\n\r\n  const status = useMemo(() => {\r\n    if (winner) {\r\n      setBlackIsNext(null)\r\n      return `Winner: ${winner === 1 ? 'Black' : 'White'}`;\r\n    } else {\r\n      return 'Next player: ' + (blackIsNext ? 'Black' : 'White');\r\n    }\r\n  }, [blackIsNext, winner])\r\n\r\n  const handleClick = useCallback((row, col) => {\r\n    const newHistory = history.slice(0, stepNumber + 1)\r\n    const squares = [...currentSquares]\r\n    squares[row] = [...squares[row]]\r\n    if (blackIsNext === null || squares[row][col] ) return\r\n\r\n    squares[row][col] = blackIsNext ? 1 : 2\r\n    setHistory([...history.slice(0, stepNumber + 1), {squares}])\r\n    setStepNumber(newHistory.length)\r\n    setBlackIsNext(!blackIsNext)\r\n  }, [history, blackIsNext, currentSquares, stepNumber])\r\n\r\n  const jumpTo = useCallback((move) => {\r\n    console.log('call jumpTo ' + move);\r\n    setStepNumber(move)\r\n    setBlackIsNext((move % 2) === 0)\r\n  }, [setStepNumber, setBlackIsNext])\r\n\r\n\r\n  return (\r\n    <div className=\"game\">\r\n      <div className={blackIsNext ? 'black-hover' : 'white-hover'}>\r\n        <GameBoard \r\n          squares={currentSquares}\r\n          onClick={handleClick}\r\n        />\r\n      </div>\r\n      <div className=\"game-info\">\r\n        <GameInfo\r\n          status={status}\r\n          stepNumber={stepNumber}\r\n          history={history}\r\n          jumpTo={jumpTo}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","export default function calculateWinner(squares) {\r\n  for (let i = 0; i < 15; i++) {\r\n    for (let j = 0; j < 19; j++) {\r\n      if (\r\n        squares[i][j] !== 0 &&\r\n        squares[i][j] === squares[i + 1][j] &&\r\n        squares[i][j] === squares[i + 2][j] &&\r\n        squares[i][j] === squares[i + 3][j] &&\r\n        squares[i][j] === squares[i + 4][j]\r\n      ) {\r\n        return squares[i][[j]]\r\n      }\r\n    }\r\n  }\r\n\r\n  // rows\r\n  for (let i = 0; i < 19; i++) {\r\n    for (let j = 0; j < 15; j++) {\r\n      if (\r\n        squares[i][j] !== 0 &&\r\n        squares[i][j] === squares[i][j + 1] &&\r\n        squares[i][j] === squares[i][j + 2] &&\r\n        squares[i][j] === squares[i][j + 3] &&\r\n        squares[i][j] === squares[i][j + 4]\r\n      ) {\r\n        return squares[i][[j]]\r\n      }\r\n    }\r\n  }\r\n\r\n  // top - right\r\n  for (let i = 0; i < 15; i++) {\r\n    for (let j = 0; j < 15; j++) {\r\n      if (\r\n        squares[i][j] !== 0 &&\r\n        squares[i][j] === squares[i + 1][j + 1] &&\r\n        squares[i][j] === squares[i + 2][j + 2] &&\r\n        squares[i][j] === squares[i + 3][j + 3] &&\r\n        squares[i][j] === squares[i + 4][j + 4]\r\n      ) {\r\n        return squares[i][j]\r\n      }\r\n    }\r\n  }\r\n\r\n  // top - left\r\n  for (let i = 0; i < 15; i++) {\r\n    for (let j = 18; j > 3; j--) {\r\n      if (\r\n        squares[i][j] !== 0 &&\r\n        squares[i][j] === squares[i + 1][j - 1] &&\r\n        squares[i][j] === squares[i + 2][j - 2] &&\r\n        squares[i][j] === squares[i + 3][j - 3] &&\r\n        squares[i][j] === squares[i + 4][j - 4]\r\n      ) {\r\n        return squares[i][j]\r\n      }\r\n    }\r\n  }\r\n\r\n  return null\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}