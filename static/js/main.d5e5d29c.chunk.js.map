{"version":3,"sources":["components/GameBoard.js","components/Modal.js","components/GameInfo.js","components/Footer.js","constants/data.js","components/App.js","calculateWinner.js","index.js"],"names":["BoardWrapper","styled","div","SquareWrapper","props","chess","mark","isMark","row","col","includes","GameBoard","squares","onClick","map","row_square","col_square","className","Button","button","active","GameInfo","status","stepNumber","history","jumpTo","moves","useMemo","step","move","desc","FooterWrapper","footer","Footer","href","App","useState","Array","fill","setHistory","blackIsNext","setBlackIsNext","setStepNumber","currentSquares","winner","i","j","calculateWinner","handleClick","useCallback","newHistory","slice","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d5e5d29c.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\n\r\nconst BoardWrapper = styled.div`\r\n  box-sizing: border-box;\r\n  border: 1px solid #666;\r\n  border-radius: 2px;\r\n  width: 38rem;\r\n  height: 38rem;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  background: #BB9966;\r\n  box-shadow: 6px 6px 10px rgba(51,51,51,0.6);\r\n  position: relative;\r\n\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    inset: 0;\r\n    border: calc(1rem - .4px) solid #BB9966;\r\n    pointer-events: none;\r\n  }\r\n`\r\n\r\nconst SquareWrapper = styled.div`\r\n  box-sizing: border-box;\r\n  /* border: 1px solid #aaa; */\r\n  border-radius: 2px;\r\n  width: calc(100%/19);\r\n  height: calc(100%/19);\r\n  flex-shrink: 0;\r\n  flex-grow: 0;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  position: relative;\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 50%;\r\n    width: 1px;\r\n    background: #111;\r\n    transform: translateX(-50%);\r\n  }\r\n\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 50%;\r\n    height: 1px;\r\n    background: #111;\r\n    transform: translateY(-50%);\r\n  }\r\n\r\n  i.chess {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    border-radius: 50%;\r\n    width: 1.4rem;\r\n    height: 1.4rem;\r\n    z-index: 1;\r\n\r\n    /* Black */\r\n    ${props => props.chess === 1 && `\r\n      background: linear-gradient(315deg, #dadada, #fff);\r\n      box-shadow: inset 16px 14px 10px 1px #000, -3px -3px 3px -2px #353232;\r\n      opacity: 1;\r\n    `}\r\n\r\n    /* White */\r\n    ${props => props.chess === 2 && `\r\n      background: linear-gradient(315deg, #ccc, #111);\r\n      box-shadow: inset 16px 14px 10px 1px #ddd, -3px -3px 3px -2px #666;\r\n      opacity: 1;\r\n    `}\r\n\r\n    &:active {\r\n      transform: translate(-60%, -60%);\r\n    }\r\n\r\n    &::after {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      border-radius: 50%;\r\n      ${props => (props.mark && !props.chess) && `\r\n        content: '';\r\n        width: .5rem;\r\n        height: .5rem;\r\n        background: #111;\r\n      `}\r\n    }\r\n  }\r\n`\r\n\r\nconst isMark = (row, col) => [4, 10, 16].includes(row + 1) && [4, 10, 16].includes(col + 1)\r\n\r\nconst GameBoard = ({squares, onClick}) => {\r\n\r\n  return (\r\n    <BoardWrapper>\r\n      { \r\n        squares.map((row_square, row) => (\r\n          row_square.map((col_square, col) => (\r\n            <SquareWrapper \r\n              key={`${row}-${col}`} \r\n              chess={col_square}\r\n              mark={isMark(row, col)}\r\n              onClick={() => onClick(row, col)}\r\n            >\r\n              <i className='chess'></i>\r\n            </SquareWrapper>\r\n          ))\r\n        ))\r\n      }\r\n    </BoardWrapper>\r\n  );\r\n}\r\n\r\nexport default GameBoard;","import styled from 'styled-components'\r\nimport './Modal.css'\r\n\r\nconst ModalWrapper = styled.div`\r\n  background-color: rgba(0,0,0,0.3);\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 3;\r\n  overflow: auto;\r\n  display: none;\r\n`\r\n\r\nconst Modal = () => {\r\n  return (\r\n    <ModalWrapper>\r\n      <div class=\"modal\">\r\n        <div class=\"modal-content \">\r\n          <div class=\"modal__header\">\r\n            <h4>比賽結束</h4>\r\n            <button class=\"close-btn\" onclick=\"closeModal();\">×</button>\r\n          </div>\r\n          <div class=\"modal__content\">\r\n            白棋獲勝\r\n          </div>\r\n          <div class=\"modal__footer\">\r\n            <button>OK</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ModalWrapper>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default Modal","import { useMemo } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst InfoWrapper = styled.div`\r\n  width: 200px;\r\n  height: 38rem;\r\n  overflow: auto;\r\n  margin-left: 2rem;\r\n  padding-left: 1rem;\r\n`\r\n\r\nconst Button = styled.button`\r\n  font-size: .7rem;\r\n  padding: .3rem .4rem;\r\n  margin: .4rem .2rem 0;\r\n  border: none;\r\n  outline: none;\r\n  border-radius: 4px;\r\n  background: #ccc;\r\n  box-shadow: .1rem .1rem .1rem #999;\r\n  transition: .2s;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  z-index: 1;\r\n\r\n  &:active {\r\n    transform: translateY(.2rem);\r\n    box-shadow: none;\r\n  }\r\n\r\n  ${(props) => props.active && `\r\n    font-weight: 900;\r\n    background: #666;\r\n    color: #ccc;\r\n    box-shadow: .1rem .1rem .1rem #333;\r\n  `}\r\n\r\n  &:hover {\r\n    background: #666;\r\n    color: #ccc;\r\n  }\r\n`\r\n\r\nconst GameInfo = ({status, stepNumber, history, jumpTo}) => {\r\n  const moves = useMemo(() => (history.map((step, move) => {\r\n    const desc = move ? ('Go to move #' + move) : ('Go to game start')\r\n\r\n    return (\r\n      <li key={`#${move}`}>\r\n        <Button active={stepNumber === move} onClick={() => jumpTo(move)}>{desc}</Button>\r\n      </li>\r\n    )\r\n  })), [history, stepNumber, jumpTo])\r\n\r\n  return (\r\n    <>\r\n      <div>{status}</div>\r\n      <div>current step: {stepNumber}</div>\r\n      <ol>{moves}</ol>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default GameInfo","import styled from 'styled-components'\r\nimport { ARTHUR, ARTHUR_MAIL, COPYRIGHT_YEAR } from '../constants/data'\r\n\r\nconst FooterWrapper = styled.footer`\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  letter-spacing: 0.05rem;\r\n  background: transparent;\r\n  text-align: center;\r\n  padding: 0.1rem 0.5rem;\r\n  margin-top: 2rem;\r\n  z-index: -1;\r\n\r\n  span {\r\n    display: block;\r\n    font-size: 1.5rem;\r\n    font-weight: 300;\r\n    margin-bottom: 0.7rem;\r\n    margin-top: 0.2rem;\r\n  }\r\n\r\n  a {\r\n    color: #6a89cc;\r\n    text-decoration: none;\r\n    font-style: italic;\r\n  }\r\n`\r\n\r\nconst Footer = () => (\r\n  <FooterWrapper>\r\n    <span>&copy; copyright {COPYRIGHT_YEAR} by <a href={`mailto${ARTHUR_MAIL}`}>{ARTHUR}</a></span>\r\n  </FooterWrapper>\r\n)\r\n\r\nexport default Footer","export const ARTHUR = 'Enzo Luo'\r\nexport const ARTHUR_MAIL = 'duenzo1010@gmail.com'\r\nexport const COPYRIGHT_YEAR = '2021'","import { useState, useCallback, useMemo } from 'react'\r\nimport './App.css'\r\nimport Modal from './Modal'\r\nimport GameBoard from './GameBoard'\r\nimport GameInfo from './GameInfo'\r\nimport Footer from './Footer'\r\nimport calculateWinner from '../calculateWinner'\r\n\r\n\r\nconst App = () => {\r\n  const [history, setHistory] = useState(() => [{ squares: Array(19).fill().map(() => Array(19).fill(0)) }])\r\n  const [blackIsNext, setBlackIsNext] = useState(true)\r\n  const [stepNumber, setStepNumber] = useState(0)\r\n\r\n  const currentSquares = useMemo(() => history[stepNumber].squares, [history, stepNumber])\r\n  const status = useMemo(() => {\r\n    const winner = calculateWinner(currentSquares)\r\n    if (winner) {\r\n      setBlackIsNext(null)\r\n      return `Winner: ${winner === 1 ? 'Black' : 'White'}`\r\n    } else {\r\n      return 'Next player: ' + (blackIsNext ? 'Black' : 'White')\r\n    }\r\n  }, [blackIsNext, currentSquares])\r\n\r\n  const handleClick = useCallback((row, col) => {\r\n    const newHistory = history.slice(0, stepNumber + 1)\r\n    const squares = [...currentSquares]\r\n    squares[row] = [...squares[row]]\r\n    if (blackIsNext === null || squares[row][col] ) return\r\n\r\n    squares[row][col] = blackIsNext ? 1 : 2\r\n    setHistory([...newHistory, {squares}])\r\n    setStepNumber(newHistory.length)\r\n    setBlackIsNext(!blackIsNext)\r\n  }, [history, blackIsNext, currentSquares, stepNumber])\r\n\r\n  const jumpTo = useCallback((move) => {\r\n    setStepNumber(move)\r\n    setBlackIsNext((move % 2) === 0)\r\n  }, [setStepNumber, setBlackIsNext])\r\n\r\n\r\n  return (\r\n    <>\r\n      {/* <div className=\"ending\">\r\n        <Modal/>\r\n      </div> */}\r\n      <div className=\"game\">\r\n        <div className={blackIsNext ? 'black-hover' : 'white-hover'}>\r\n          <GameBoard \r\n            squares={currentSquares}\r\n            onClick={handleClick}\r\n          />\r\n        </div>\r\n        <div className=\"game-info\">\r\n          <GameInfo\r\n            status={status}\r\n            stepNumber={stepNumber}\r\n            history={history}\r\n            jumpTo={jumpTo}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Footer/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App\r\n","export default function calculateWinner(squares) {\r\n  for (let i = 0; i < 15; i++) {\r\n    for (let j = 0; j < 19; j++) {\r\n      if (\r\n        squares[i][j] !== 0 &&\r\n        squares[i][j] === squares[i + 1][j] &&\r\n        squares[i][j] === squares[i + 2][j] &&\r\n        squares[i][j] === squares[i + 3][j] &&\r\n        squares[i][j] === squares[i + 4][j]\r\n      ) {\r\n        return squares[i][[j]]\r\n      }\r\n    }\r\n  }\r\n\r\n  // rows\r\n  for (let i = 0; i < 19; i++) {\r\n    for (let j = 0; j < 15; j++) {\r\n      if (\r\n        squares[i][j] !== 0 &&\r\n        squares[i][j] === squares[i][j + 1] &&\r\n        squares[i][j] === squares[i][j + 2] &&\r\n        squares[i][j] === squares[i][j + 3] &&\r\n        squares[i][j] === squares[i][j + 4]\r\n      ) {\r\n        return squares[i][[j]]\r\n      }\r\n    }\r\n  }\r\n\r\n  // top - right\r\n  for (let i = 0; i < 15; i++) {\r\n    for (let j = 0; j < 15; j++) {\r\n      if (\r\n        squares[i][j] !== 0 &&\r\n        squares[i][j] === squares[i + 1][j + 1] &&\r\n        squares[i][j] === squares[i + 2][j + 2] &&\r\n        squares[i][j] === squares[i + 3][j + 3] &&\r\n        squares[i][j] === squares[i + 4][j + 4]\r\n      ) {\r\n        return squares[i][j]\r\n      }\r\n    }\r\n  }\r\n\r\n  // top - left\r\n  for (let i = 0; i < 15; i++) {\r\n    for (let j = 18; j > 3; j--) {\r\n      if (\r\n        squares[i][j] !== 0 &&\r\n        squares[i][j] === squares[i + 1][j - 1] &&\r\n        squares[i][j] === squares[i + 2][j - 2] &&\r\n        squares[i][j] === squares[i + 3][j - 3] &&\r\n        squares[i][j] === squares[i + 4][j - 4]\r\n      ) {\r\n        return squares[i][j]\r\n      }\r\n    }\r\n  }\r\n\r\n  return null\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}